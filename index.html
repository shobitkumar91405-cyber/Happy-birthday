<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I'm So Sorry, Khushi! ğŸ˜¿ğŸ’”</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            transition: background 2s ease;
            background: linear-gradient(to bottom, #E6E6FA, #DDA0DD); /* Initial soft lavender-purple */
        }
        .night { background: linear-gradient(to bottom, #2E003E, #000000); } /* Override for night mode */
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            position: relative;
        }
        .card {
            width: 90%;
            max-width: 500px;
            height: 80vh;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(138,43,226,0.5);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            cursor: pointer;
            transition: transform 0.5s ease, box-shadow 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        .card:hover { transform: scale(1.05); box-shadow: 0 15px 40px rgba(138,43,226,0.7); }
        .card.closed .content { display: none; }
        .card.open .teaser { display: none; }
        .teaser {
            font-size: 1.5em;
            color: #8A2BE2;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .content {
            animation: fadeIn 1s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        .message {
            font-size: 1.6em;
            color: #DC143C;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            line-height: 1.5;
        }
        .gif, .photo {
            width: 100%;
            max-width: 300px;
            height: auto;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 0 20px rgba(138,43,226,0.5);
        }
        .bulbs {
            position: absolute;
            top: 5%;
            left: 5%;
            right: 5%;
            display: flex;
            justify-content: space-around;
            animation: colorChange 4s infinite;
        }
        .bulb {
            width: 40px;
            height: 40px;
            background: radial-gradient(circle, #FFF, #8A2BE2);
            border-radius: 50%;
            box-shadow: 0 0 15px #8A2BE2;
        }
        @keyframes colorChange {
            0% { background: radial-gradient(circle, #FFF, #8A2BE2); box-shadow: 0 0 15px #8A2BE2; }
            25% { background: radial-gradient(circle, #FFF, #6495ED); box-shadow: 0 0 15px #6495ED; }
            50% { background: radial-gradient(circle, #FFF, #DDA0DD); box-shadow: 0 0 15px #DDA0DD; }
            75% { background: radial-gradient(circle, #FFF, #FF69B4); box-shadow: 0 0 15px #FF69B4; }
            100% { background: radial-gradient(circle, #FFF, #8A2BE2); box-shadow: 0 0 15px #8A2BE2; }
        }
        .hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }
        .heart {
            position: absolute;
            color: #FF1493;
            font-size: 2em;
            animation: floatPulse 8s linear infinite;
        }
        @keyframes floatPulse {
            0% { transform: translateY(100vh) rotate(0deg) scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: translateY(-100px) rotate(360deg) scale(1); }
        }
        .rain {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }
        .drop {
            position: absolute;
            width: 2px;
            height: 20px;
            background: #87CEEB;
            animation: fall 3s linear infinite;
        }
        @keyframes fall {
            0% { transform: translateY(-100px); }
            100% { transform: translateY(100vh); }
        }
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #8A2BE2;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        .credits {
            position: fixed;
            bottom: 10px;
            left: 10px;
            font-size: 0.8em;
            color: #FFF;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        .next-btn {
            margin-top: 20px;
            background: #FF69B4;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.2em;
            transition: background 0.3s ease;
        }
        .next-btn:hover { background: #DC143C; }
        audio { display: none; }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™ Night / â˜€ï¸ Day</button>
    <div class="credits">Made by sivasingh | Instagram: @smass1708</div>
    <audio id="sorryMusic" loop autoplay>
        <source src="https://www.soundjay.com/misc/sounds/soft-rain-01.wav" type="audio/wav"> <!-- Placeholder soft, reflective sound; replace with a free emotional song -->
    </audio>

    <!-- Card 1: Welcome Apology -->
    <div class="container" id="card1">
        <div class="card closed" onclick="openCard(1)">
            <div class="bulbs">
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
            </div>
            <div class="hearts" id="hearts1"></div>
            <div class="rain" id="rain1"></div>
            <div class="teaser">Tap to Open My Heartfelt Apology ğŸ’”ğŸ˜¿</div>
            <div class="content">
                <h1 class="message">I'm So Sorry, Khushi! ğŸ˜¿ğŸ’”</h1>
                <img src="https://media.giphy.com/media/3o7TKz9bX9v8Z8Z8Z8/giphy.gif" alt="Crying Cat GIF" class="gif"> <!-- Crying cat GIF -->
                <p class="message">Khushi, my dearest love, my heart aches like a kitten crying in the rain ğŸ˜¿. I never meant to hurt you, and every tear I imagine you shedding breaks me. Please know my regret is deeper than the oceanâ€”let's heal this wound together. I love you more than words can say. ğŸŒ§ï¸â¤ï¸</p>
                <button class="next-btn" onclick="nextCard(1)">Next ğŸ˜¿</button>
            </div>
        </div>
    </div>

    <!-- Card 2: Reason 1 -->
    <div class="container" id="card2" style="display: none;">
        <div class="card closed" onclick="openCard(2)">
            <div class="bulbs">
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
            </div>
            <div class="hearts" id="hearts2"></div>
            <div class="rain" id="rain2"></div>
            <div class="teaser">Tap for Reason 1 ğŸ˜¿</div>
            <div class="content">
                <h2 class="message">Why I'm Sorry ğŸ˜¿</h2>
                <img src="https://media.giphy.com/media/l4FGKbQG6x5QkJz6M/giphy.gif" alt="Sad Crying Cat GIF" class="gif"> <!-- Sad crying cat GIF -->
                <p class="message">Khushi, I was foolish, like a scared little cat ğŸ˜¿ hiding in the shadows, too afraid to face my feelings. I let my pride win, and it cost us precious moments. My soul weeps for the pain I caused youâ€”forgive my blindness, my love. I promise to see you clearly now. ğŸ˜¢ğŸ±</p>
                <button class="next-btn" onclick="nextCard(2)">Next ğŸ˜¿</button>
            </div>
        </div>
    </div>

    <!-- Card 3: Reason 2 -->
    <div class="container" id="card3" style="display: none;">
        <div class="card closed" onclick="openCard(3)">
            <div class="bulbs">
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
            </div>
            <div class="hearts" id="hearts3"></div>
            <div class="rain" id="rain3"></div>
            <div class="teaser">Tap for Reason 2 ğŸ˜¿</div>
            <div class="content">
                <h2 class="message">My Biggest Mistake ğŸ˜¿</h2>
                <img src="https://media.giphy.com/media/3o7TKz9bX9v8Z8Z8Z8/giphy.gif" alt="Crying Kitten GIF" class="gif"> <!-- Crying kitten GIF -->
                <p class="message">Oh Khushi, my biggest mistake was forgetting how fragile our bond is, like a kitten ğŸ˜¿ trembling in the cold. I took your love for granted, and now my heart is shattered. Every night, I cry thinking of your smile fading because of me. Please, let's mend thisâ€”your happiness is my everything. ğŸ’”ğŸ¾</p>
                <button class="next-btn" onclick="nextCard(3)">Next ğŸ˜¿</button>
            </div>
        </div>
    </div>

    <!-- Card 4: Promise -->
    <div class="container" id="card4" style="display: none;">
        <div class="card closed" onclick="openCard(4)">
            <div class="bulbs">
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
            </div>
            <div class="hearts" id="hearts4"></div>
            <div class="rain" id="rain4"></div>
            <div class="teaser">Tap for My Promise ğŸ˜¿</div>
            <div class="content">
                <h2 class="message">I Promise to Change ğŸ˜¿</h2>
                <img src="https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif" alt="Hopeful Crying Cat GIF" class="gif"> <!-- Hopeful crying cat GIF -->
                <p class="message">Khushi, from this moment, I'll be the cat ğŸ˜¿ that curls up by your side, loyal and loving. No more mistakesâ€”I'll cherish every second with you, listen to your heart, and make you laugh again. My tears of regret will turn to tears of joy. I vow to be your forever protector. ğŸŒŸâ¤ï¸</p>
                <button class="next-btn" onclick="nextCard(4)">Next ğŸ˜¿</button>
            </div>
        </div>
    </div>

    <!-- Card 5: Plea -->
    <div class="container" id="card5" style="display: none;">
        <div class="card closed" onclick="openCard(5)">
            <div class="bulbs">
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
            </div>
            <div class="hearts" id="hearts5"></div>
            <div class="rain" id="rain5"></div>
            <div class="teaser">Tap for My Plea ğŸ˜¿</div>
            <div class="content">
                <h2 class="message">Please Forgive Me ğŸ˜¿</h2>
                <img src="https://media.giphy.com/media/3o7TKz9bX9v8Z8Z8Z8/giphy.gif" alt="Begging Crying Cat GIF" class="gif"> <!-- Begging crying cat GIF -->
                <p class="message">Khushi, please, with all my heart, forgive me ğŸ˜¿. Life without your warmth is unbearableâ€”like a cat crying alone in the dark. I kneel before you, begging for your mercy. You're my light, my reason to smile. Give me a chance to prove my love anew. I can't live without you. ğŸ˜­ğŸ’•</p>
                <button class="next-btn" onclick="nextCard(5)">Next ğŸ˜¿</button>
            </div>
        </div>
    </div>

    <!-- Card 6: Final Surprise -->
    <div class="container" id="card6" style="display: none;">
        <div class="card closed" onclick="openCard(6)">
            <div class="bulbs">
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
                <div class="bulb"></div>
            </div>
            <div class="hearts" id="hearts6"></div>
            <div class="rain" id="rain6"></div>
            <div class="teaser">Tap for the Final Surprise ğŸ˜¿</div>
            <div class="content">
                <h2 class="message">Forever Yours ğŸ˜¿â¤ï¸</h2>
                <img src="https://media.giphy.com/media/l4FGKbQG6x5QkJz6M/giphy.gif" alt="Happy Crying Cat GIF" class="gif"> <!-- Happy crying cat GIF -->
                <p class="message">Khushi, let's start fresh, like kittens ğŸ˜¿ finding their way home. My tears of sorrow will become tears of happiness with you. I love you more than all the stars in the skyâ€”will you forgive me and let our story continue? You're my everything, my forever. ğŸ’–ğŸŒˆ</p>
                <button class="next-btn" onclick="finish()">Finish & Hug Me! ğŸ˜¿</button>
            </div>
        </div>
    </div>

    <script>
        let currentCard = 1;
        let themeIndex = 0;
        const themes = [
            'linear-gradient(to bottom, #E6E6FA, #DDA0DD)', // Lavender-purple
            'linear-gradient(to bottom, #6495ED, #87CEEB)', // Blue for sadness
            'linear-gradient(to bottom, #FF69B4, #FFB6C1)', // Pink for hope
            'linear-gradient(to bottom, #DDA0DD, #E6E6FA)'  // Back to start
        ];

        function toggleTheme() {
            document.body.classList.toggle('night');
        }

        function openCard(cardNum) {
            const card = document.query
